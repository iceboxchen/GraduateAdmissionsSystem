<!-- 学生复试登记表界面 -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <link href="../static/style.css" rel="stylesheet" type="text/css">
    <title>学生复试登记表</title>
    <style>
        table {
            width: 100%;
            border-collapse: collapse;
        }
        th, td {
            border: 1px solid #000;
            padding: 8px;
            text-align: left;
            font-weight: normal; /* 去除加粗效果 */
        }
        input-file-button {
            padding: 6px 25px;
            background: #00bfff;
            border-radius: 4px; /*边框弧度*/
            color: white;
            cursor: pointer;
            height: 90%;
        }
    </style>
    <script>
        // 跳转到学生主页
        function toStudentIndex() {
            window.location.href = "{{ url_for('student_index') }}";
        }
        //控制显示提交按钮
        function toggleButtons() {
            var i = true; // 假设i的值在这里被设置
            var buttons = document.querySelectorAll('input[type="submit"], input[type="reset"]');
            buttons.forEach(function(button) {
                button.style.display = i ? '' : 'none';
            });
        }
    </script>
</head>
<body onload="toggleButtons()">
<div class="container">
    <h1>北京林业大学硕士研究生入学复试登记表</h1>
    <form action="student2_submit" id="myForm" method="POST">
        <table style="border:0">
            <tr>
                <th style="border:0">
                    <label for="major">复试学科专业：</label>
                    <input id="major" name="major" type="text">
                </th>
                <th style="text-align:right; border:0">
                    <label for="admission-number">考生准考证号：</label>
                    <input id="admission-number" name="admission-number" type="text" disabled>
                </th>
            </tr>
        </table>
        <table>
            <tr>
                <td>姓名</td>
                <td style="width:80px"><input id="name" name="name" style="width:80px" type="text" disabled>
                </td>
                <td style="width:60px">性别</td>
                <td style="width:90px">
                    <select id="gender" name="gender" style="width:80px">
                        <option selected value="">请选择</option>
                        <option value="男">男</option>
                        <option value="女">女</option>
                    </select>
                </td>
                <td style="width:80px">考生类别</td>
                <td colspan="3">
                    <input id="fresh-graduate" name="fresh-graduate" type="checkbox" value="1">
                    <label for="fresh-graduate">应届生</label>
                    <input id="previous-graduate" name="previous-graduate" type="checkbox" value="1">
                    <label for="previous-graduate">往届生</label>
                    <input id="equal-education" name="equal-education" type="checkbox" value="1">
                    <label for="equal-education">同等学力</label>

                    <br>

                    <input id="targeted-student" name="targeted-student" type="checkbox" value="1">
                    <label for="targeted-student">定向生</label>
                    <input id="non-targeted-student" name="non-targeted-student" type="checkbox" value="1">
                    <label for="non-targeted-student">非定向考生</label>
                </td>
            </tr>
            <tr>
                <td colspan="2"><label for="graduation-school">本科毕业学校及时间：</label></td>
                <td colspan="2">
                    <input id="graduation-school" name="graduation-school" placeholder="例:北京林业大学"
                           style="width:100px"
                           type="text">
                    <input id="graduation-time" name="graduation-time" placeholder="例:2024" style="width:50px"
                           type="text">
                </td>
                <td>
                    <label for="major-study">毕业专业：</label>
                </td>
                <td colspan="3">
                    <input id="major-study" name="major-study" style="width:100%" type="text">
                </td>
            </tr>
            <tr>
                <td colspan="2">考生联系方式</td>
                <td colspan="6">
                    <label for="contact-phone">手机：</label>
                    <input id="contact-phone" name="contact-phone" type="text" disabled>

                    <label for="emergency-contact">紧急联系人手机：</label>
                    <input id="emergency-contact" name="emergency-contact" type="text">
                </td>
            </tr>
            <tr>
                <!--要改的-->
                <td colspan="2">报考导师优先意向：</td>
                <td colspan="6">
                    1、<input id="advisor-preference1" name="advisor-preference1" style="width:150px" type="text">
                    2、<input id="advisor-preference2" name="advisor-preference2" style="width:150px" type="text">
                    3、<input id="advisor-preference3" name="advisor-preference3" style="width:150px" type="text">
                </td>
            </tr>
            <tr>
                <td colspan="8" style="text-decoration:underline;text-align:center">
                    以下信息仅报考计算机科学与技术考生填写
                </td>
            </tr>
            <tr>
                <td colspan="3">
                    <label for="research-direction">拟报研究方向：</label>
                </td>
                <td colspan="5">
                    <input id="research-direction" name="research-direction" style="width:100%" type="text">
                </td>
            </tr>
            <tr>
                <td colspan="8" style="text-decoration:underline;text-align:center">
                    以下信息仅报考电子信息全日制考生填写
                </td>
            </tr>
            <tr>
                <td colspan="3">
                    <label for="accept-adjustment">是否接受方向调整</label>
                </td>
                <td colspan="5">
                    <input id="accept-adjustment" name="adjustment" type="radio" value="接受">
                    <label for="accept-adjustment">接受</label>
                    <input id="decline-adjustment" name="adjustment" type="radio" value="不接受">
                    <label for="decline-adjustment">不接受</label>
                </td>
            </tr>
            <tr>
                <td colspan="3" style="text-align:center;width:250px">除一志愿方向外电子信息下其他方向调整的优先顺序
                </td>
                <td colspan="5">
                    1、<input name="priority1" style="width:90px" type="text">
                    2、<input name="priority2" style="width:90px" type="text">
                    3、<input name="priority3" style="width:90px" type="text">
                    4、<input name="priority4" style="width:90px" type="text">
                </td>
            </tr>
            <tr>
                <!--需要name的photo-->
                <td class="signature" colspan="3">考生签名确认上述信息：</td>
                <td colspan="5">
                    <label class="input-file-button" for="signatureUpload" style="text-decoration:underline;color:purple;">点击上传电子签名</label>
                    <input accept="image/*" id="signatureUpload" name="signatureUpload" style="display:none;"
                           type="file"/>
                    <img alt="" id="signaturePreview" src="#" style="max-height: 30px;">
                </td>

            </tr>
            <tr>
                <td colspan="8" style="text-decoration:underline;text-align:center">
                    以下信息由复试组填写
                </td>
            </tr>
            <tr>
                <td colspan="2">复试时间和地点</td>
                <td colspan="6">
                    <input name="interview-time-place" style="width:100%" type="text">
                </td>
            </tr>
            <tr>
                <td colspan="8" rowspan="2">
                    复试小组对考生复试表现的综合评价（外语水平，专业知识，综合素质，培养潜质等方面）：
                    <textarea cols="50" name="evaluation" rows="4" style="width:100%;resize:none;"></textarea>
                    <p style="text-align:right">
                        复试组长签字：<img alt="" id="reexaminename" src="#" style="max-height: 30px;">
                    </p>
                </td>
            </tr>
            <tr></tr>
            <tr>
                <td colspan="2" style="text-align:center">外语听力及口语</td>
                <td colspan="2" style="text-align:center">专业知识测试</td>
                <td colspan="2" style="text-align:center">综合素质面试</td>
                <td colspan="2" style="text-align:center">复试总成绩</td>
            </tr>
            <tr>
                <td colspan="2" style="text-align:center">
                    <input name="foreign-language" type="text">
                </td>
                <td colspan="2" style="text-align:center">
                    <input name="professional-knowledge" type="text">
                </td>
                <td colspan="2" style="text-align:center">
                    <input name="comprehensive-quality" type="text">
                </td>
                <td colspan="2" style="text-align:center">
                    <input name="total-score" type="text">
                </td>
            </tr>
            <tr>
                <td colspan="2">复试组成员签字：</td>
                <td colspan="6">
                    <img alt="" id="reexaminenames" src="#" style="max-height: 30px;">
                </td>
            </tr>
            <tr>
                <td colspan="2">拟录取导师签字：</td>
                <td colspan="6">
                    <img alt="" id="teachername" src="#" style="max-height: 30px;">
                </td>
            </tr>
        </table>
        <br>
        <div>
            <input id="save" type="submit" value="暂存" name="save"/>
            <input id="restore" type="button" value="恢复" name="save"/>
            <input id="submittable" type="submit" value="提交" name="save"/>
            <input id="reset" onclick="" type="reset" value="重置"/>
            <input onclick="toStudentIndex()" type="button" value="退出"/>
        </div>
    </form>
    <div id="popupMessage" style="display:none;" title="消息">
        <p>这里将显示接收到的数据。</p>
    </div>
</div>
<script>
    // 上传后显示学生签名图片
    document.getElementById('signatureUpload').addEventListener('change', function(event) {
        const file = event.target.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = function(e) {
                const imgPreview = document.getElementById('signaturePreview');
                imgPreview.src = e.target.result;
            };
            reader.readAsDataURL(file);
        }
    });
</script>
<script>
$(document).ready(function() {
    $('#submitBtn').click(function() {
        $.ajax({
            url: '/student_submit', // 假设这是你的服务器端点
            type: 'GET', // 或者 'POST'，取决于你的服务器端点要求
            success: function(response) {
                // 假设服务器返回的是纯文本数据
                $('#popupMessage').text(response).dialog('open');
            },
            error: function() {
                $('#popupMessage').text('获取数据失败。').dialog('open');
            }
        });
    });
});
</script>
</body>
</html>